<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Linux Setup &mdash; Qualcomm® AI Engine Direct</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom_css.css?v=e00ba12e" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=474e5199"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tutorials" href="../tutorials.html" />
    <link rel="prev" title="Windows Setup" href="windows_setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Qualcomm® AI Engine Direct
          </a>
              <div class="version">
                2.24
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="windows_setup.html">Windows Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="windows_setup.html#setup-for-windows-host-10-11-and-snapdragon">Setup for Windows Host (10, 11, and Snapdragon)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Linux Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="#setup-for-linux-host-ubuntu-wsl-and-other-distros">Setup for Linux Host (Ubuntu, WSL, and other distros)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-qualcomm-ai-engine-direct-aka-the-qnn-sdk">1. Install Qualcomm AI Engine Direct (aka the “QNN SDK”)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-up-your-environment">Set up your environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-qnn-sdk-dependencies">2. Install QNN SDK dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-model-frameworks">3. Install Model Frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-target-device-os-specific-toolchain-code">4. Install Target Device OS-Specific Toolchain Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-an-android-target-device">Working with an Android Target Device</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Qualcomm® AI Engine Direct</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">&lt;no title&gt;</a></li>
      <li class="breadcrumb-item active">Linux Setup</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="linux-setup">
<h1>Linux Setup<a class="headerlink" href="#linux-setup" title="Link to this heading"></a></h1>
</section>
<section id="setup-for-linux-host-ubuntu-wsl-and-other-distros">
<span id="id1"></span><h1>Setup for Linux Host (Ubuntu, WSL, and other distros)<a class="headerlink" href="#setup-for-linux-host-ubuntu-wsl-and-other-distros" title="Link to this heading"></a></h1>
<p>Follow these instructions to install the Qualcomm AI Engine Direct SDK <strong>(commonly referred to as the QNN SDK)</strong> and all necessary dependencies.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide is for a host machine running Linux. If you are using a Windows machine, please follow the instructions for a Windows setup.</p>
</div>
<p>The QNN SDK allows you to convert an AI model (e.g., a <code class="docutils literal notranslate"><span class="pre">.pt</span></code> model from PyTorch) into instructions that can be run on a target device’s various processing units (CPU, GPU, HTP, cDSP, or LPAI).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To learn about acronyms which are new to you, see the <a class="reference external" href="https://docs.qualcomm.com/bundle/publicresource/topics/80-63442-50/glossary.html">Glossary</a>.</p>
</div>
<p>You will need to install the following code to use the QNN SDK:</p>
<ol class="arabic simple">
<li><p>The QNN SDK binary and its immediate dependencies.</p></li>
<li><p>ML frameworks to interpret your AI model files. (e.g., <code class="docutils literal notranslate"><span class="pre">PyTorch</span></code>)</p></li>
<li><dl class="simple">
<dt>Toolchain code for your target device’s operating system.</dt><dd><ol class="arabic simple">
<li><p>e.g., To develop on Android, you will need to install an Android NDK.</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>Packages/tooling to build the converted models for specific hardware processors (CPU, GPU, HTP, cDSP, or LPAI).</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide contains many recommendations about specific versions of code to use that have been verified to work. Other versions of those dependencies may or may not work, so use them at your own risk.</p>
</div>
<section id="install-qualcomm-ai-engine-direct-aka-the-qnn-sdk">
<h2>1. Install Qualcomm AI Engine Direct (aka the “QNN SDK”)<a class="headerlink" href="#install-qualcomm-ai-engine-direct-aka-the-qnn-sdk" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Go to the QNN SDK product page: <a class="reference external" href="https://www.qualcomm.com/developer/software/qualcomm-ai-engine-direct-sdk">https://www.qualcomm.com/developer/software/qualcomm-ai-engine-direct-sdk</a></p></li>
<li><dl class="simple">
<dt>Click “Get Software” to download the QNN SDK</dt><dd><ol class="arabic simple">
<li><p>Note: The QNN SDK is ~2 GB when unzipped.</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Unzip the downloaded SDK.</dt><dd><ol class="arabic simple">
<li><p>The zipped file should have a name like <code class="docutils literal notranslate"><span class="pre">v2.22.6.240515</span></code>.</p></li>
<li><p>When unzipped, the folder should be named <code class="docutils literal notranslate"><span class="pre">qairt</span></code> with a sub-folder that looks like <code class="docutils literal notranslate"><span class="pre">2.22.6.240515</span></code>.</p></li>
</ol>
</dd>
</dl>
</li>
</ol>
</section>
<section id="set-up-your-environment">
<h2>Set up your environment<a class="headerlink" href="#set-up-your-environment" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Open a terminal.</p></li>
<li><dl class="simple">
<dt>Navigate to <code class="docutils literal notranslate"><span class="pre">qairt/&lt;QNN_SDK_VERSION&gt;</span></code> inside the unzipped QNN SDK.</dt><dd><ol class="arabic simple">
<li><p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;QNN_SDK_VERSION&gt;</span></code> with the name of the file directly under <code class="docutils literal notranslate"><span class="pre">qairt</span></code> - it should look something like <code class="docutils literal notranslate"><span class="pre">2.22.6.240515</span></code>.</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">bin</span></code>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">./envsetup.sh</span></code>.</p>
<blockquote>
<div><p>This will automatically set the environment variables <code class="docutils literal notranslate"><span class="pre">QNN_SDK_ROOT</span></code> and <code class="docutils literal notranslate"><span class="pre">SNPE_ROOT</span></code>.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">QNN_SDK_ROOT</span></code> - This points to the <code class="docutils literal notranslate"><span class="pre">qairt/QNN_SDK_ROOT</span></code> folder where the QNN SDK code lives.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> - The location of your local Python installation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PATH</span></code> - The path to executables that are provided by QNN.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> - The Linux Distribution Library Path points towards the proper build tools for your host machine’s operating system and hardware.</p></li>
</ol>
</div></blockquote>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">envsetup.sh</span></code> script only updates environment variables for the current terminal session. If you need to set <code class="docutils literal notranslate"><span class="pre">QNN_SDK_ROOT</span></code> again, just re-run this script.</p>
</div>
<ol class="arabic" start="5">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">${QNN_SDK_ROOT}/bin/check-linux-dependency.sh</span></code>.</p>
<blockquote>
<div><p>This will install the Linux build tools. When you have installed all the necessary dependencies, the script will say “Done!!”.</p>
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As the script is running, you will have to confirm additional downloads by pressing “Enter”. The script may take several minutes to complete.</p>
</div>
<ol class="arabic" start="6">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">${QNN_SDK_ROOT}/bin/envcheck</span> <span class="pre">-c</span></code>.</p>
<blockquote>
<div><p>This will verify that you have installed the required toolchain successfully.</p>
</div></blockquote>
</li>
</ol>
</section>
<section id="install-qnn-sdk-dependencies">
<h2>2. Install QNN SDK dependencies<a class="headerlink" href="#install-qnn-sdk-dependencies" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Install python 3.10 by running the following commands:</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>python3.10<span class="w"> </span>python3-distutils<span class="w"> </span>libpython3.10
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Verify the installation worked by running:</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>--version
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ensure you have Python 3.10. The QNN SDK was verified with Python version 3.10.4.</p>
</div>
<ol class="arabic simple" start="3">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">${QNN_SDK_ROOT}</span></code>.</p></li>
<li><p>Install <code class="docutils literal notranslate"><span class="pre">python3.10-venv</span></code> if you don’t have it installed already by running:</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python3.10-venv
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Run the following command to create and activate a new virtual environment (you may rename <code class="docutils literal notranslate"><span class="pre">MY_ENV_NAME</span></code> to any name you prefer):</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>MY_ENV_NAME<span class="w"> </span>--without-pip
<span class="nb">source</span><span class="w"> </span>MY_ENV_NAME/bin/activate
python3<span class="w"> </span>-m<span class="w"> </span>ensurepip<span class="w"> </span>--upgrade
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We have to use the flag <code class="docutils literal notranslate"><span class="pre">--without-pip</span></code> on Debian/Ubuntu systems to avoid a crash since venv will call <code class="docutils literal notranslate"><span class="pre">ensurepip</span></code> at the system level (which is disabled on Debian/Ubuntu). Once we activate our venv, we can then safely call <code class="docutils literal notranslate"><span class="pre">ensurepip</span></code> to create a local pip for installing packages.</p>
</div>
<ol class="arabic" start="6">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">pip3</span></code> to verify that the virtual environment has a local version of <code class="docutils literal notranslate"><span class="pre">pip3</span></code>.</p>
<blockquote>
<div><p>You should see a path that is inside your virtual environment (Ex. <code class="docutils literal notranslate"><span class="pre">/MY_ENV_NAME/bin/pip3</span></code>)</p>
</div></blockquote>
</li>
<li><p>Update all dependencies by running the following command:</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">QNN_SDK_ROOT</span><span class="si">}</span><span class="s2">/bin/check-python-dependency&quot;</span>
</pre></div>
</div>
</section>
<section id="install-model-frameworks">
<h2>3. Install Model Frameworks<a class="headerlink" href="#install-model-frameworks" title="Link to this heading"></a></h2>
<p>These are the packages that interpret your AI model files. For example, the <code class="docutils literal notranslate"><span class="pre">PyTorch</span></code> package interprets <code class="docutils literal notranslate"><span class="pre">.pt</span></code> files.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Install any/all of the frameworks you want to use AI models from. You can install a package by running <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">package==version</span></code>.
e.g., <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">torch==1.13.1</span></code></p>
</div>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Package</p></th>
<th class="head"><p>Version</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://pypi.org/project/torch/">torch</a></p></td>
<td><p>1.13.1</p></td>
<td><p>PyTorch is used for building and training deep learning models with a focus on flexibility and speed. Used with .pt files. Install by downloading the proper binary from <a class="reference external" href="https://pytorch.org/get-started/previous-versions/#v1130">PyTorch previous versions</a> if pip install does not work.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://pypi.org/project/torchvision/">torchvision</a></p></td>
<td><p>0.14.1</p></td>
<td><p>Torchvision is used for computer vision tasks with PyTorch, providing datasets, model architectures, and image transforms.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://pypi.org/project/tensorflow/">tensorflow</a></p></td>
<td><p>2.10.1</p></td>
<td><p>TensorFlow is used for building and training machine learning models, particularly deep learning models. Used with .pb files. NOTE: The envcheck script will incorrectly say this file is not installed on Ubuntu.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://pypi.org/project/tflite/">tflite</a></p></td>
<td><p>2.3.0</p></td>
<td><p>TFLite is used for running TensorFlow models on mobile and edge devices with optimized performance. Used with .tflite files.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://pypi.org/project/onnx/">onnx</a></p></td>
<td><p>1.12.0</p></td>
<td><p>ONNX stands for Open Neural Network Exchange. It is used for defining and exchanging deep learning models between different frameworks. Used with .onnx files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://pypi.org/project/onnxruntime/">onnxruntime</a></p></td>
<td><p>1.17.1</p></td>
<td><p>ONNX Runtime is used for running ONNX models with high performance across various hardware platforms. Used with .onnx files.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://pypi.org/project/onnxsim/">onnxsim</a></p></td>
<td><p>0.4.36</p></td>
<td><p>Onnxsim is used for simplifying ONNX models to reduce complexity and improve inference efficiency. Used with .onnx files.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can verify your installation by calling <code class="docutils literal notranslate"><span class="pre">${QNN_SDK_ROOT}/bin/envcheck</span> <span class="pre">-a</span></code> which will check to see whether these dependencies are installed. These are optional, so just verify that the dependencies you intended to install are actually installed.</p>
</div>
</section>
<section id="install-target-device-os-specific-toolchain-code">
<h2>4. Install Target Device OS-Specific Toolchain Code<a class="headerlink" href="#install-target-device-os-specific-toolchain-code" title="Link to this heading"></a></h2>
<p>Depending on the target device’s operating system, there may be additional installation requirements.</p>
</section>
<section id="working-with-an-android-target-device">
<h2>Working with an Android Target Device<a class="headerlink" href="#working-with-an-android-target-device" title="Link to this heading"></a></h2>
<p>For working with Android devices, you will need to install a corresponding Android NDK (Native Developer Kit). You can install the recommended version (Android NDK version <code class="docutils literal notranslate"><span class="pre">r26c</span></code>) by following these steps:</p>
<ol class="arabic simple">
<li><p>Download the Android NDK: <a class="reference external" href="https://dl.google.com/android/repository/android-ndk-r26c-linux.zip">https://dl.google.com/android/repository/android-ndk-r26c-linux.zip</a></p></li>
<li><p>Unzip the file.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If your environment is in WSL, the Android NDK must</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="windows_setup.html" class="btn btn-neutral float-left" title="Windows Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2024, Qualcomm Technologies, Inc..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>